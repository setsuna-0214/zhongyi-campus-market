# 软件需求规格说明书

**项目名称：** 中易校园二手交易平台  
**版本号：** 1.0  
**日期：** 2025-12-16

---

## 1. 引言

### 1.1 编写目的

本文档旨在明确"中易校园二手交易平台"的软件需求，作为系统设计、开发、测试及维护的依据。该系统旨在为在校大学生提供一个便捷、安全、高效的二手交易平台，主要交易物品包括教材、电子产品及日常生活用品。

### 1.2 项目范围

平台面向校园用户，支持经过校园邮箱认证的学生进行交易，确保交易对象的真实与可信。

主要功能包括：
- 用户注册与邮箱认证
- 商品发布、浏览、搜索与管理
- 订单创建与处理
- 买卖双方即时通讯
- 商品收藏与用户关注
- 个人中心管理
- 管理员后台（可选）

---

## 2. 总体描述

### 2.1 产品背景

该平台基于 Web，采用前后端分离的 B/S 架构：

- **前端技术栈：**
  - 语言：JavaScript (ES6+)
  - 框架：React 18 + Vite
  - UI 组件库：Ant Design 5.x
  - 路由：React Router 6
  - HTTP 客户端：Axios

- **后端技术栈：**
  - 语言：Java
  - 框架：Spring Boot
  - 构建工具：Maven

### 2.2 产品功能概览

| 功能模块 | 描述 |
|---------|------|
| 用户认证 | 注册、登录、忘记密码、邮箱验证 |
| 商品管理 | 发布、编辑、上下架、删除商品 |
| 商品浏览 | 首页展示、搜索筛选、商品详情 |
| 订单管理 | 创建订单、订单处理、取消订单、删除订单 |
| 即时通讯 | 买卖双方在线聊天 |
| 收藏关注 | 商品收藏、用户关注 |
| 个人中心 | 基本信息、商品管理、订单处理、收藏列表、关注列表 |

### 2.3 用户类别及特征

1. **学生用户（买家/卖家）**
   - 在校大学生，通过校园邮箱认证
   - 可同时作为买家和卖家
   - 主要需求：发布/购买二手商品、与交易对象沟通

2. **管理员**
   - 平台管理人员
   - 主要需求：内容审核、用户管理、数据统计

### 2.4 假设与依赖

- 用户需拥有有效的校园邮箱进行注册认证
- 系统依赖后端 API 服务正常运行
- 前端支持现代浏览器（Chrome、Firefox、Safari、Edge）

---

## 3. 功能性需求

### 3.1 用户认证模块

#### 3.1.1 用户注册
- 支持用户名、邮箱、密码注册
- 邮箱验证码验证
- 用户名和邮箱唯一性检查

#### 3.1.2 用户登录
- 支持邮箱或用户名登录
- JWT Token 认证机制
- 登录状态持久化（localStorage）

#### 3.1.3 忘记密码
- 通过邮箱验证码重置密码

### 3.2 商品管理模块

#### 3.2.1 商品分类
| 分类代码 | 分类名称 |
|---------|---------|
| electronics | 数码电子 |
| books | 图书教材 |
| daily | 生活用品 |
| other | 其他物品 |

#### 3.2.2 商品状态
| 状态 | 描述 |
|-----|------|
| 在售 | 商品正常销售中 |
| 已下架 | 卖家主动下架 |
| 已售出 | 商品已完成交易 |

#### 3.2.3 发布商品
- 必填信息：标题、价格、分类、描述、交易地址、交易方式
- 可选信息：是否支持议价
- 支持多图片上传

#### 3.2.4 交易方式
| 方式代码 | 方式名称 |
|---------|---------|
| campus | 校内交易（自提） |
| express | 快递邮寄 |

#### 3.2.5 商品编辑与管理
- 编辑商品信息
- 上架/下架商品
- 删除商品

### 3.3 商品浏览模块

#### 3.3.1 首页展示
- 热门商品推荐
- 最新发布商品
- 分类快捷入口

#### 3.3.2 商品搜索
- 关键词搜索
- 分类筛选
- 价格区间筛选
- 地点筛选
- 排序方式：最新、价格升序、价格降序、热门

#### 3.3.3 商品详情
- 商品图片轮播
- 商品基本信息
- 卖家信息
- 相关商品推荐
- 收藏/取消收藏
- 立即购买

### 3.4 订单管理模块

#### 3.4.1 订单状态流转
```
创建订单 → 待卖家处理 → 待买家确认 → 已完成
                ↓              ↓
              已取消 ←←←←←←←←←←
```

| 状态代码 | 状态名称 | 描述 |
|---------|---------|------|
| pending_seller | 待卖家处理 | 订单创建后的初始状态 |
| pending_buyer | 待买家确认 | 卖家已处理，等待买家确认 |
| completed | 已完成 | 买家已确认收货 |
| cancelled | 已取消 | 订单已取消 |

#### 3.4.2 订单操作权限
| 操作 | 买家 | 卖家 |
|-----|-----|-----|
| 创建订单 | ✓ | - |
| 处理订单 | - | ✓ |
| 确认收货 | ✓ | - |
| 取消订单 | ✓（确认前） | - |
| 删除订单 | ✓（已取消） | ✓（已取消） |

#### 3.4.3 重复订单检查
- 同一买家对同一商品不能创建多个未完成订单
- 订单列表自动去重，保留时间最早的订单

### 3.5 即时通讯模块

#### 3.5.1 会话管理
- 创建会话
- 会话列表
- 删除会话

#### 3.5.2 消息功能
- 文本消息发送/接收
- 消息历史记录
- 未读消息计数

### 3.6 收藏与关注模块

#### 3.6.1 商品收藏
- 添加/取消收藏
- 收藏列表管理
- 批量移除收藏

#### 3.6.2 用户关注
- 关注/取消关注用户
- 关注列表
- 查看被关注用户信息

### 3.7 个人中心模块

#### 3.7.1 基本信息
- 查看/编辑个人资料
- 头像上传
- 个人背景图设置

#### 3.7.2 可编辑字段
| 字段 | 是否可编辑 |
|-----|-----------|
| 用户名 | 否 |
| 昵称 | 是 |
| 邮箱 | 否（需验证修改） |
| 电话 | 是 |
| 地址 | 是 |
| 性别 | 是 |
| 个人简介 | 是 |

#### 3.7.3 性别选项
| 值 | 显示 |
|---|-----|
| 0 | 保密 |
| 1 | 男 |
| 2 | 女 |

#### 3.7.4 商品管理
- 我发布的商品
- 我购买的商品

#### 3.7.5 订单处理
- 购买订单（待处理/已完成/已取消）
- 出售订单（待处理/已完成/已取消）

#### 3.7.6 账户安全
- 修改邮箱（需验证）
- 修改密码（需验证）

---

## 4. 非功能性需求

### 4.1 性能需求
- 页面首次加载时间 < 3 秒
- 商品搜索响应时间 < 2 秒
- API 请求超时时间：10 秒

### 4.2 安全需求
- 邮箱验证码认证机制
- JWT Token 身份验证
- 敏感操作需二次确认
- 密码加密存储

### 4.3 可用性需求
- 响应式设计，支持多种屏幕尺寸
- 界面简洁直观，操作流程清晰
- 提供操作反馈（加载状态、成功/错误提示）

### 4.4 可维护性
- 前后端分离架构
- 模块化代码组织
- 统一的 API 接口规范
- 完整的 API 文档

### 4.5 兼容性
- 支持主流现代浏览器
- Chrome 90+
- Firefox 88+
- Safari 14+
- Edge 90+

---

## 5. 接口规范

详见 [API.md](./API.md) 文档。

主要接口模块：
- 认证接口（/auth/*）
- 商品接口（/products/*）
- 首页接口（/home/*）
- 收藏接口（/favorites/*）
- 订单接口（/orders/*）
- 用户接口（/user/*）
- 聊天接口（/chat/*）

---

## 6. 未来扩展

- 消息推送通知（WebSocket/SSE）
- 商品评价与信用评分系统
- 智能推荐算法
- 多校园互通交易
- 移动端 App（React Native）
- AI 自动生成商品描述
- 校园地图集成
- 积分奖励系统
